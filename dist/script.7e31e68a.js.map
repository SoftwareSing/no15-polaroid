{"version":3,"sources":["../src/index.js","../src/FileSaver.js","script.js"],"names":["const","mergedImage","document","querySelector","mergeBtn","selectFrame","selectExpression","downloadBtn","cardsNodeList","querySelectorAll","selectedExpression","selectedFrame","alertExpressionNodeList","alertFrameNodeList","frameImgPath","expressionImgPath","imagesData","imgFormat","mergePolaroid","expression","frame","src","x","y","then","b64","mergeOcgGreen","mergeOcgPurple","removeFocusedClass","focusedClass","i","length","classList","remove","triggerAlert","nodeList","hide","forEach","element","add","insertImage","imgPath","innerHTML","addEventListener","event","target","contains","getAttribute","closest","dataset","format","push","previousElementSibling"],"mappings":"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","file":"script.7e31e68a.js","sourceRoot":"..","sourcesContent":["// Defaults\nconst defaultOptions = {\n\tformat: 'image/png',\n\tquality: 0.92,\n\twidth: undefined,\n\theight: undefined,\n\tCanvas: undefined,\n\tcrossOrigin: undefined\n};\n\n// Return Promise\nconst mergeImages = (sources = [], options = {}) => new Promise(resolve => {\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// Setup browser/Node.js specific variables\n\tconst canvas = options.Canvas ? new options.Canvas() : window.document.createElement('canvas');\n\tconst Image = options.Image || window.Image;\n\n\t// Load sources\n\tconst images = sources.map(source => new Promise((resolve, reject) => {\n\t\t// Convert sources to objects\n\t\tif (source.constructor.name !== 'Object') {\n\t\t\tsource = { src: source };\n\t\t}\n\n\t\t// Resolve source and img when loaded\n\t\tconst img = new Image();\n\t\timg.crossOrigin = options.crossOrigin;\n\t\timg.onerror = () => reject(new Error('Couldn\\'t load image'));\n\t\timg.onload = () => resolve(Object.assign({}, source, { img }));\n\t\timg.src = source.src;\n\t}));\n\n\t// Get canvas context\n\tconst ctx = canvas.getContext('2d');\n\n\t// When sources have loaded\n\tresolve(Promise.all(images)\n\t\t.then(images => {\n\t\t\t// Set canvas dimensions\n\t\t\tconst getSize = dim => options[dim] || Math.max(...images.map(image => image.img[dim]));\n\t\t\tcanvas.width = getSize('width');\n\t\t\tcanvas.height = getSize('height');\n\n\t\t\t// Draw images to canvas\n\t\t\timages.forEach(image => {\n\t\t\t\tctx.globalAlpha = image.opacity ? image.opacity : 1;\n\t\t\t\treturn ctx.drawImage(image.img, image.x || 0, image.y || 0);\n\t\t\t});\n\n\t\t\tif (options.Canvas && options.format === 'image/jpeg') {\n\t\t\t\t// Resolve data URI for node-canvas jpeg async\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tcanvas.toDataURL(options.format, {\n\t\t\t\t\t\tquality: options.quality,\n\t\t\t\t\t\tprogressive: false\n\t\t\t\t\t}, (err, jpeg) => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(jpeg);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Resolve all other data URIs sync\n\t\t\treturn canvas.toDataURL(options.format, options.quality);\n\t\t}));\n});\n\nexport default mergeImages;\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","import mergeImages from \"merge-images\";\r\nimport { saveAs } from \"file-saver\";\r\n\r\nconst mergedImage = document.querySelector(\".merged-image\");\r\nconst mergeBtn = document.querySelector(\".merge-btn\");\r\nconst selectFrame = document.querySelector(\".select-frame\");\r\nconst selectExpression = document.querySelector(\".select-expression\");\r\nconst downloadBtn = document.querySelector(\".download-btn\");\r\nconst cardsNodeList = document.querySelectorAll(\".card\");\r\nconst selectedExpression = document.querySelector(\".selected-expression\");\r\nconst selectedFrame = document.querySelector(\".selected-frame\");\r\nconst alertExpressionNodeList = document.querySelectorAll(\".alert-expression\");\r\nconst alertFrameNodeList = document.querySelectorAll(\".alert-frame\");\r\n\r\nlet frameImgPath = \"\";\r\nlet expressionImgPath = \"\";\r\nlet imagesData = [];\r\nlet imgFormat = \"\";\r\n\r\nselectExpression.addEventListener(\"click\", (event) => {\r\n  const target = event.target;\r\n  removeFocusedClass(\"expression-card-focused\");\r\n  if (target.classList.contains(\"img-15\")) {\r\n    expressionImgPath = target.getAttribute(\"src\");\r\n    target.closest(\".card\").classList.add(\"expression-card-focused\");\r\n    insertImage(selectedExpression, expressionImgPath);\r\n    triggerAlert(alertExpressionNodeList, false);\r\n  }\r\n});\r\n\r\nselectFrame.addEventListener(\"click\", (event) => {\r\n  const target = event.target;\r\n  removeFocusedClass(\"frame-card-focused\");\r\n\r\n  if (target.classList.contains(\"img-15\")) {\r\n    imgFormat = target.dataset.format;\r\n    frameImgPath = target.getAttribute(\"src\");\r\n    target.closest(\".card\").classList.add(\"frame-card-focused\");\r\n    insertImage(selectedFrame, frameImgPath);\r\n    triggerAlert(alertFrameNodeList, false);\r\n  }\r\n});\r\n\r\nmergeBtn.addEventListener(\"click\", () => {\r\n  if (!expressionImgPath) {\r\n    triggerAlert(alertExpressionNodeList, true);\r\n    return;\r\n  }\r\n\r\n  if (!frameImgPath) {\r\n    triggerAlert(alertFrameNodeList, true);\r\n    return;\r\n  }\r\n\r\n  imagesData.push(frameImgPath, expressionImgPath);\r\n  // console.log(imagesData);\r\n\r\n  if (imgFormat === \"polaroid\") {\r\n    mergePolaroid(expressionImgPath, frameImgPath);\r\n  }\r\n\r\n  if (imgFormat === \"ocg-green\") {\r\n    mergeOcgGreen(expressionImgPath, frameImgPath);\r\n  }\r\n\r\n  if (imgFormat === \"ocg-purple\") {\r\n    mergeOcgPurple(expressionImgPath, frameImgPath);\r\n  }\r\n\r\n  mergedImage.previousElementSibling.classList.add(\"hide\");\r\n  mergedImage.classList.add(\"image-style\");\r\n});\r\n\r\nfunction mergePolaroid(expression, frame) {\r\n  mergeImages([\r\n    { src: expression, x: 22, y: 22 },\r\n    { src: frame, x: 0, y: 0 },\r\n  ]).then((b64) => (mergedImage.src = b64));\r\n}\r\n\r\nfunction mergeOcgGreen(expression, frame) {\r\n  mergeImages([\r\n    { src: expression, x: 98, y: 224 },\r\n    { src: frame, x: 0, y: 0 },\r\n  ]).then((b64) => (mergedImage.src = b64));\r\n}\r\n\r\nfunction mergeOcgPurple(expression, frame) {\r\n  mergeImages([\r\n    { src: expression, x: 78, y: 180 },\r\n    { src: frame, x: 0, y: 0 },\r\n  ]).then((b64) => (mergedImage.src = b64));\r\n}\r\n\r\nfunction removeFocusedClass(focusedClass) {\r\n  for (let i = 0; i < cardsNodeList.length; i++) {\r\n    cardsNodeList[i].classList.remove(focusedClass);\r\n  }\r\n}\r\n\r\nfunction triggerAlert(nodeList, hide) {\r\n  if (hide === true) {\r\n    nodeList.forEach((element) => {\r\n      element.classList.remove(\"hide\");\r\n    });\r\n  } else {\r\n    nodeList.forEach((element) => {\r\n      element.classList.add(\"hide\");\r\n    });\r\n  }\r\n}\r\n\r\nfunction insertImage(element, imgPath) {\r\n  element.innerHTML = `<img class=\"image-style\" src='${imgPath}' alt=\"圖片下載失敗QQ\"/>`;\r\n}\r\n\r\ndownloadBtn.addEventListener(\"click\", () => {\r\n  const imgPath = mergedImage.getAttribute(\"src\");\r\n  saveAs(imgPath, \"老婆貓貓.png\");\r\n});\r\n"]}