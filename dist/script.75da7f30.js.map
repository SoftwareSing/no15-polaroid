{"version":3,"sources":["../src/index.js","../src/FileSaver.js","script.js"],"names":["const","mergedImage","document","querySelector","mergeBtn","selectFrame","selectExpression","downloadBtn","cardsNodeList","querySelectorAll","selectedExpression","selectedFrame","alertExpressionNodeList","alertFrameNodeList","alertDownloadNodeList","textCustom","textCanvas","getContext","textImg","textarea","footerBtn","introHide","previousElementSibling","introShow","frameImgPath","expressionImgPath","imgFormat","polaroidPos","x","y","ocgGreenPos","ocgPurplePos","addEventListener","event","target","removeFocusedClass","classList","contains","getAttribute","closest","add","insertImage","triggerAlert","dataset","format","remove","mergePolaroidCustom","merge15Images","imgPath","toggleHidddenIntro","innerHTML","expression","frame","pos","src","then","b64","getCustomTextImage","focusedClass","i","length","nodeList","hide","forEach","element","font","MaxLine","CharPerLine","LineHeight","fillText","value","slice","canvas","toDataURL","toggle"],"mappings":";;AEAA,uLDkBA,QAAS,CAAA,CAAT,CAAc,CAAd,CAAoB,CAApB,CAA0B,OACJ,WAAhB,QAAO,CAAA,CADa,CACS,CAAI,CAAG,CAAE,OAAO,GAAT,CADhB,CAEC,QAAhB,QAAO,CAAA,CAFQ,GAGtB,OAAO,CAAC,IAAR,CAAa,oDAAb,CAHsB,CAItB,CAAI,CAAG,CAAE,OAAO,CAAE,CAAC,CAAZ,CAJe,EASpB,CAAI,CAAC,OAAL,EAAgB,6EAA6E,IAA7E,CAAkF,CAAI,CAAC,IAAvF,CATI,CAUf,GAAI,CAAA,IAAJ,CAAS,UAA8B,CAA9B,CAAT,CAA8C,CAAE,IAAI,CAAE,CAAI,CAAC,IAAb,CAA9C,CAVe,CAYjB,CACR,CAED,QAAS,CAAA,CAAT,CAAmB,CAAnB,CAAwB,CAAxB,CAA8B,CAA9B,CAAoC,CAClC,GAAI,CAAA,CAAG,CAAG,GAAI,CAAA,cAAd,CACA,CAAG,CAAC,IAAJ,CAAS,KAAT,CAAgB,CAAhB,CAFkC,CAGlC,CAAG,CAAC,YAAJ,CAAmB,MAHe,CAIlC,CAAG,CAAC,MAAJ,CAAa,UAAY,CACvB,CAAM,CAAC,CAAG,CAAC,QAAL,CAAe,CAAf,CAAqB,CAArB,CACP,CANiC,CAOlC,CAAG,CAAC,OAAJ,CAAc,UAAY,CACxB,OAAO,CAAC,KAAR,CAAc,yBAAd,CACD,CATiC,CAUlC,CAAG,CAAC,IAAJ,EACD,CAED,QAAS,CAAA,CAAT,CAAsB,CAAtB,CAA2B,CACzB,GAAI,CAAA,CAAG,CAAG,GAAI,CAAA,cAAd,CAEA,CAAG,CAAC,IAAJ,CAAS,MAAT,CAAiB,CAAjB,IAHyB,CAIzB,GAAI,CACF,CAAG,CAAC,IAAJ,EACD,CAAC,MAAO,CAAP,CAAU,CAAE,CACd,MAAqB,IAAd,EAAA,CAAG,CAAC,MAAJ,EAAmC,GAAd,EAAA,CAAG,CAAC,MACjC,CAGD,QAAS,CAAA,CAAT,CAAgB,CAAhB,CAAsB,CACpB,GAAI,CACF,CAAI,CAAC,aAAL,CAAmB,GAAI,CAAA,UAAJ,CAAe,OAAf,CAAnB,CACD,CAAC,MAAO,CAAP,CAAU,CACV,GAAI,CAAA,CAAG,CAAG,QAAQ,CAAC,WAAT,CAAqB,aAArB,CAAV,CACA,CAAG,CAAC,cAAJ,CAAmB,OAAnB,OAAwC,MAAxC,CAAgD,CAAhD,CAAmD,CAAnD,CAAsD,CAAtD,CAAyD,EAAzD,CACsB,EADtB,aACsD,CADtD,CACyD,IADzD,CAFU,CAIV,CAAI,CAAC,aAAL,CAAmB,CAAnB,CACD,CACF,C,GAtDG,CAAA,CAAO,CAAqB,QAAlB,QAAO,CAAA,MAAP,EAA8B,MAAM,CAAC,MAAP,GAAkB,MAAhD,CACV,MADU,CACe,QAAhB,QAAO,CAAA,IAAP,EAA4B,IAAI,CAAC,IAAL,GAAc,IAA1C,CACT,IADS,CACgB,QAAlB,QAAO,CAAA,MAAP,EAA8B,MAAM,CAAC,MAAP,GAAkB,MAAhD,CACP,MADO,O,CAyDP,CAAc,CAAG,CAAO,CAAC,SAAR,EAAqB,YAAY,IAAZ,CAAiB,SAAS,CAAC,SAA3B,CAArB,EAA8D,cAAc,IAAd,CAAmB,SAAS,CAAC,SAA7B,CAA9D,EAAyG,CAAC,SAAS,IAAT,CAAc,SAAS,CAAC,SAAxB,C,CAE3H,CAAM,CAAG,CAAO,CAAC,MAAR,GAEQ,QAAlB,QAAO,CAAA,MAAP,EAA8B,MAAM,GAAK,CAA1C,CACI,UAAmB,CAAc,CADrC,CAIG,YAAc,CAAA,iBAAiB,CAAC,SAAhC,EAA6C,CAAC,CAA/C,CACA,SAAiB,CAAjB,CAAuB,CAAvB,CAA6B,CAA7B,CAAmC,IAC/B,CAAA,CAAG,CAAG,CAAO,CAAC,GAAR,EAAe,CAAO,CAAC,SADE,CAE/B,CAAC,CAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAF2B,CAGnC,CAAI,CAAG,CAAI,EAAI,CAAI,CAAC,IAAb,EAAqB,UAHO,CAKnC,CAAC,CAAC,QAAF,CAAa,CALsB,CAMnC,CAAC,CAAC,GAAF,CAAQ,UAN2B,CAWf,QAAhB,QAAO,CAAA,CAXwB,EAajC,CAAC,CAAC,IAAF,CAAS,CAbwB,CAc7B,CAAC,CAAC,MAAF,GAAa,QAAQ,CAAC,MAdO,CAmB/B,CAAK,CAAC,CAAD,CAnB0B,CAe/B,CAAW,CAAC,CAAC,CAAC,IAAH,CAAX,CACI,CAAQ,CAAC,CAAD,CAAO,CAAP,CAAa,CAAb,CADZ,CAEI,CAAK,CAAC,CAAD,CAAI,CAAC,CAAC,MAAF,CAAW,QAAf,CAjBsB,GAuBjC,CAAC,CAAC,IAAF,CAAS,CAAG,CAAC,eAAJ,CAAoB,CAApB,CAvBwB,CAwBjC,UAAU,CAAC,UAAY,CAAE,CAAG,CAAC,eAAJ,CAAoB,CAAC,CAAC,IAAtB,CAA6B,CAA5C,CAA8C,GAA9C,CAxBuB,CAyBjC,UAAU,CAAC,UAAY,CAAE,CAAK,CAAC,CAAD,CAAK,CAAzB,CAA2B,CAA3B,CAzBuB,CA2BpC,CA5BC,CA+BA,oBAAsB,CAAA,SAAtB,CACA,SAAiB,CAAjB,CAAuB,CAAvB,CAA6B,CAA7B,CAAmC,CAGnC,GAFA,CAAI,CAAG,CAAI,EAAI,CAAI,CAAC,IAAb,EAAqB,UAE5B,CAAoB,QAAhB,QAAO,CAAA,CAAX,CAUE,SAAS,CAAC,gBAAV,CAA2B,CAAG,CAAC,CAAD,CAAO,CAAP,CAA9B,CAA4C,CAA5C,CAVF,KACE,IAAI,CAAW,CAAC,CAAD,CAAf,CACE,CAAQ,CAAC,CAAD,CAAO,CAAP,CAAa,CAAb,CADV,KAEO,CACL,GAAI,CAAA,CAAC,CAAG,QAAQ,CAAC,aAAT,CAAuB,GAAvB,CAAR,CACA,CAAC,CAAC,IAAF,CAAS,CAFJ,CAGL,CAAC,CAAC,MAAF,CAAW,QAHN,CAIL,UAAU,CAAC,UAAY,CAAE,CAAK,CAAC,CAAD,CAAK,CAAzB,CACX,CAIJ,CAhBC,CAmBA,SAAiB,CAAjB,CAAuB,CAAvB,CAA6B,CAA7B,CAAmC,CAAnC,CAA0C,CAS1C,GANA,CAAK,CAAG,CAAK,EAAI,IAAI,CAAC,EAAD,CAAK,QAAL,CAMrB,CALI,CAKJ,GAJE,CAAK,CAAC,QAAN,CAAe,KAAf,CACA,CAAK,CAAC,QAAN,CAAe,IAAf,CAAoB,SAApB,CAAgC,gBAGlC,EAAoB,QAAhB,QAAO,CAAA,CAAX,CAA8B,MAAO,CAAA,CAAQ,CAAC,CAAD,CAAO,CAAP,CAAa,CAAb,CAAf,CATY,GAWtC,CAAA,CAAK,CAAiB,0BAAd,GAAA,CAAI,CAAC,IAXyB,CAYtC,CAAQ,CAAG,eAAe,IAAf,CAAoB,CAAO,CAAC,WAA5B,GAA4C,CAAO,CAAC,MAZzB,CAatC,CAAW,CAAG,eAAe,IAAf,CAAoB,SAAS,CAAC,SAA9B,CAbwB,CAe1C,GAAI,CAAC,CAAW,EAAK,CAAK,EAAI,CAAzB,EAAsC,CAAvC,GAAgF,WAAtB,QAAO,CAAA,UAArE,CAAiG,CAE/F,GAAI,CAAA,CAAM,CAAG,GAAI,CAAA,UAAjB,CACA,CAAM,CAAC,SAAP,CAAmB,UAAY,CAC7B,GAAI,CAAA,CAAG,CAAG,CAAM,CAAC,MAAjB,CACA,CAAG,CAAG,CAAW,CAAG,CAAH,CAAS,CAAG,CAAC,OAAJ,CAAY,cAAZ,CAA4B,uBAA5B,CAFG,CAGzB,CAHyB,CAGlB,CAAK,CAAC,QAAN,CAAe,IAAf,CAAsB,CAHJ,CAIxB,QAAQ,CAAG,CAJa,CAK7B,CAAK,CAAG,IACT,CAT8F,CAU/F,CAAM,CAAC,aAAP,CAAqB,CAArB,CACD,CAXD,IAWO,IACD,CAAA,CAAG,CAAG,CAAO,CAAC,GAAR,EAAe,CAAO,CAAC,SAD5B,CAED,CAAG,CAAG,CAAG,CAAC,eAAJ,CAAoB,CAApB,CAFL,CAGD,CAHC,CAGM,CAAK,CAAC,QAAN,CAAiB,CAHvB,CAIA,QAAQ,CAAC,IAAT,CAAgB,CAJhB,CAKL,CAAK,CAAG,IALH,CAML,UAAU,CAAC,UAAY,CAAE,CAAG,CAAC,eAAJ,CAAoB,CAApB,CAA0B,CAAzC,CAA2C,GAA3C,CACX,CACF,CA1FU,C,CA6Fb,CAAO,CAAC,MAAR,CAAiB,CAAM,CAAC,MAAP,CAAgB,C,CAEX,WAAlB,QAAO,CAAA,M,GACT,MAAM,CAAC,OAAP,CAAiB,C;;ACxKnB;;AFDA;AACAA,IAAM,cAAc,GAAG;AACtB,AECD,EFDC,EECKC,IFDC,EAAE,KECQ,GAAGC,GFFG,KEEK,CAACC,aAAT,CAAuB,eAAvB,CAApB;AFAC,AECD,EFDC,EECKC,KFDE,EAAE,CECI,GFHS,AEGNF,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAjB;AFAC,AECD,EFDC,EECKE,GFDA,EAAE,MECS,GFJM,AEIHH,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAApB;AFAC,AECD,EFDC,EECKG,IFDC,EAAE,SAJc,CEKD,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,oBAAvB,CAAzB;AFAC,AECD,EFDC,EECKI,IFDC,EAAE,KECQ,GAAGL,CFNG,OEMK,CAACC,aAAT,CAAuB,eAAvB,CAApB;AFAC,AECD,EFDC,EECKK,SFDM,EAAE,EECK,GAAGN,QAAQ,CAACO,gBAAT,CAA0B,OAA1B,CAAtB;AFPuB,AEQvB,CFRAT,GEQMU,kBAAkB,GAAGR,QAAQ,CAACC,aAAT,CAAuB,sBAAvB,CAA3B;AACA,IAAMQ,aAAa,GAAGT,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAAtB;AFCAH,AEAA,IFAM,AEAAY,WFAW,GAAA,SEAY,CFAR,EEAWV,KFAf,EAAkB,CEAK,CAACO,KFAxB,EAA8B,SEAf,CAA0B,mBAA1B,CAAhC;AACA,IAAMI,kBAAkB,GAAGX,QFDC,AECO,CAACO,EFDL,cECJ,CAA0B,cAA1B,CAA3B;AACA,IAAMK,qBAAqB,GAAGZ,KFFY,GAAG,AEEP,CAACO,gBAAT,CAA0B,iBAA1B,CAA9B;AACA,IAAMM,KFH8C,IAAI,CEGxC,GAAGb,GFHiC,CAAW,IEGpC,CAACC,KFHoC,OAAD,CEG5C,CFHwD,AEGjC,cAAvB,CAAnB;AFFC,AEGD,IFHC,AEGKa,OFHE,GAAG,AEGK,GAAGd,GFHF,CAAC,IEGS,CAACC,CFHjB,CAAc,EAAd,EAAkB,OEGV,CAAuB,MFH/B,EAAkC,MEG1B,CFHR,CAAV,AEGyDc,CFJiB,SEIxD,CAAkD,IAAlD,CAAnB;AACA,IAAMC,OAAO,GAAGhB,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAhB;AFDCH,AEED,IAAMmB,IFFC,IEEO,EFFD,CEEIjB,EFFD,MEES,CFFF,AEEGC,CFFF,MAAR,GAAiB,GEEhB,CFFoB,AEEG,OFFI,CAAC,GEE5B,CAAjB,EFFiC,EAAjB,GAAwC,MAAM,CAAC,QAAP,CAAgB,aAAhB,CAA8B,QAA9B,CAAvDH;AACAA,AEED,IAAMoB,IFFC,KAAK,AEEG,GFFA,AEEGlB,OFFI,CAAC,AEEG,CAACC,IFFZ,IAAiB,KEEd,CFFoB,AEEG,CFFF,KAAtCH,CAL0E,MEOzD,CAAlB;AACA,IAAMqB,SAAS,GAAGD,SAAS,CAACE,sBAA5B;AFACtB,AECD,IAAMuB,IFDC,KECQ,CFDF,EECKF,CFDF,OAAO,CAAC,AECG,CAACC,EFDZ,CAAW,UAAC,MAAD,EAAC,CEC5B;AFD4B,AEG5B,IAAIE,SFHkC,GEGtB,CFH0B,EEGvB,EAAnB,GFHsC,CAAW,UAAE,OAAF,EAAW,MAAX,EAAsB;AEIvE,IAAIC,iBAAiB,GAAG,EAAxB;AFFE,AEGF,IAAIC,QFHE,CEGO,GAAG,EFHJ,AEGZ,CFHa,WAAP,CAAmB,IAAnB,KAA4B,QAAhC,EAA0C;AACzC,AEIH,IAAMC,MFJH,KEIc,CFJR,EEIW,CFJR;AAAE,AEIQC,EAAAA,CAAC,EAAE,EAAL,KFJN,GAAG,EAAE;AAAP,AEIiBC,EAAAA,CAAC,EAAE,MFJ7B;AACA,AEGiB,CAApB,QFPuE;AEQvE,IAAMC,WAAW,GAAG;AAAEF,EAAAA,CAAC,EAAE,EAAL;AFDlB5B,AEC2B6B,EAAAA,CAAC,EAAE,OFDxB,GAAG,GAAG,IAAI,KAAJ,EAAZ7B;AACA,AEAkB,CAApB,OFAE,GAAG,CAAC,WAAJ,GAAkB,OAAO,CAAC,WAA1B;AECF,IAAM+B,YAAY,GAAG;AFAnB,AEAqBH,EAAAA,CAAC,EAAE,EAAL,CFAnB,GAAG,CAAC,OAAJ,GAAW,YAAA;AAAA,AEAiBC,EAAAA,CAAC,EAAE,YFAX,MAAM,CAAC,IAAI,KAAJ,CAAU,sBAAV,CAAD,CAAf;AAAkD,AEA1C,CAArB,EAEA,MFFE;;AACA,AEEFvB,QFFE,GAAG,CAAC,IEEU,CAAC0B,CFFf,GAAU,YAAA,AEEZ,CAAkC,OAAlC,EAA2C,UAACC,KAAD,EAAW;AFF1C,AEGV,MAAMC,MAAM,GAAGD,EFHI,GEGC,CAACC,GFHK,CAAC,EEG3B,IFHiC,CAAC,MAAP,CAAc,EAAd,EAAkB,MAAlB,EAA0B;AAAA,AEIrDC,EAAAA,UFJqD,GAAA,EAAE,GEIrC,CAAC,yBAAD,CAAlB;AFJqD,WAA1B,CAAD,CAAhB;AAAoD,AEK9D,MAAID,GFLJ,GEKU,CAACE,SAAP,CAAiBC,QAAjB,CAA0B,QAA1B,CAAJ,EAAyC;AACvCZ,IAAAA,iBAAiB,GAAGS,MAAM,CAACI,YAAP,CAAoB,KAApB,CAApB;AFLF,AEMEJ,IAAAA,IFNF,EEMQ,CFNL,AEMMK,CFNL,GAAJ,GAAU,AEMR,CAAe,KFND,CAAC,CEMf,EFNF,AEM0BH,SAAxB,CAAkCI,GAAlC,CAAsC,yBAAtC;AFLF,AEMEC,IAAAA,GFlBkC,CAAV,OEkBb,CAAC/B,kBAAD,EAAqBe,iBAArB,CAAX;AFND,AEOCiB,IAAAA,CFnBY,CAAf1C,CAR0E,SE2B3D,CAACY,uBAAD,EAA0B,KAA1B,CAAZ;AACD;AFLFZ,AEMA,CATD,GAWA,IFRO,GAAG,GAAG,MAAM,CAAC,UAAP,CAAkB,IAAlB,CAAZA,CAvB0E;;AA0B1E,AEMDK,IFNC,OAAO,AEMG,CFNF,AEMG2B,OFNI,CAAC,GAAR,CAAY,IEMrB,CAA6B,CFNpB,EACN,IADM,AEMT,CFLO,CEK+B,SFL9B,CEK+BC,KFLhC,AEK+B,EFLpB,AEK+B;AAC/C,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;AFJClC,AEKDmC,EAAAA,QFLO,OAAO,GAAA,AEKI,CAAC,SFLF,GAAH,EAAG,MEKC,CAAlB;AFLiB,eAAO,OAAO,CAAC,GAAD,CAAP,IAAgB,IAAI,CAAC,GAAL,CAAK,KAAL,CAAQ,IAAR,EAAY,MAAM,CAAC,GAAP,CAAU,UAAC,KAAD,EAAC;AAAA,AEO/D,MAAID,MAAM,CAACE,IFP6D,KAAK,AEOzE,CFP0E,AEOzDC,GFPmD,CAAU,GAAV,CAAT,AEO3D,CAA0B,QAA1B,CAAJ,EAAyC;AFP6C,AEQpFX,IAAAA,KFRkD,CAAZ,CAAvB,EEQN,GAAGQ,MAAM,CAACS,OAAP,CAAeC,MAA3B;AFRsF,AEStFpB,IAAAA,GFTDxB,SESa,GAAGkC,MAAM,CAACI,YAAP,CAAoB,KAApB,CAAf;AACAJ,IAAAA,MAAM,CAACK,OAAP,CAAe,OAAf,EAAwBH,SAAxB,CAAkCI,GAAlC,CAAsC,oBAAtC;AFTD,AEUCC,IAAAA,EFVD,MAAM,CAAC,EEUK,CAAC9B,EFVb,GAAe,OAAO,CAAC,AEUX,EAAgBa,KFVN,CAAtB,MEUY,CAAX;AFTD,MAAA,MAAM,CAAC,MAAP,GAAgB,OAAO,CAAC,QAAD,CAAvB,CAJe;AEed,QAAIE,SAAS,KAAK,iBAAlB,EAAqC;AFRtC,AESGX,MFTH,AESGA,MFTG,CAAC,GESM,CAACqB,GFTd,CAAc,KESX,CAAqBS,IFTT,EESZ,CAA4B,EFTjB,EAAU,EESrB;AFRF,AESC,KAFD,GFPA,GAAG,AESI,CFTH,WAAJ,GAAkB,KAAK,CAAC,OAAN,GAAgB,KAAK,CAAC,OAAtB,GAAgC,CAAlD;AACA,AESE9B,MAAAA,SFTK,CESK,CAACqB,CFTH,CAAC,OEST,CAAqBI,CFThB,CAAc,CESnB,CAAyB,GFTD,CAAC,EESzB,CFTK,EAAyB,KAAK,CAAC,CAAN,IAAW,CAApC,EAAuC,KAAK,CAAC,CAAN,IAAW,CAAlD,CAAP;AACA,AESC,OFZF;;AAKA,AESCE,IAAAA,MFTG,MESS,CFTF,AESG7B,CFTF,MAAR,IAAkB,OAAO,AEShB,CFTiB,CESI,KFTZ,AEST,CAAZ,IFTwC,YAAzC,EAAuD;AEUvD;AFRC,AESH,CAlBD,GAoBA,WFXW,IAAI,OAAJ,CAAW,UAAE,OAAF,EAAW,MAAX,EAAsB;AACvC,UAAA,MAAM,CAAC,SAAP,CAAiB,OAAO,CAAC,MAAzB,EAAiC;AAChC,AEUNT,QAAQ,CAAC4B,GFVH,OAAO,EAAE,IEUf,CAA0B,EFVJ,CAAC,IEUvB,EAAmC,CFXG,WEWG;AFTnC,AEUJ,YFVI,WAAW,EAAE;AAFmB,AEapC,MAAI,CAACP,IFbF,EAGC,UAAG,CEUP,EFVI,AEUoB,EFVZ,IAAR,EAAiB;AACjB,AEUFiB,IAAAA,YFVM,AEUM,CAAC9B,EFVX,EAAS,mBEUC,EAA0B,IAA1B,CAAZ;AFTG,AEUH,cFVG,MAAM,CAAC,GAAD,CAAN;AACA,AEUJ;AFTI;AEWL,MAAI,CAACY,YAAL,EAAmB;AFVf,AEWFkB,IAAAA,QFXE,IEWU,CAAC7B,EFXJ,CAAC,IAAD,CAAP,UEWU,EAAqB,IAArB,CAAZ;AFVE,AEWF,WFpBC;AAUA,AEWF,GAVsC,CAYvC,KFxBS,CAAP;AAYA,OA1Bc;;AEuChB,MAAIa,SAAS,KAAK,iBAAlB,EAAqC;AFVpC,AEWCoB,IAAAA,SFXM,MAAM,CAAC,GEWM,CAACrB,KFXd,CAAiB,OAAO,CAAC,GEWZ,EAAoBD,CFXjC,EAAiC,OAAO,CAAC,CEW5B,CAAnB,KFXM,CAAP;AACA,AEWA,KF1CM,CAAD,CAAP;AAgCA,GA1DmD;AA0DlD,AEYA,CFtEFxB,KEsEM0B,SAAS,KAAK,UAAlB,EAA8B;AAC5BqB,IAAAA,aAAa,CAACtB,iBAAD,EAAoBD,YAApB,EAAkCG,WAAlC,CAAb;AACD;;AAED,MAAID,SAAS,KAAK,WAAlB,EAA+B;AAC7BqB,IAAAA,aAAa,CAACtB,iBAAD,EAAoBD,YAApB,EAAkCM,WAAlC,CAAb;AACD;;AAED,MAAIJ,SAAS,KAAK,YAAlB,EAAgC;AAC9BqB,IAAAA,aAAa,CAACtB,iBAAD,EAAoBD,YAApB,EAAkCO,YAAlC,CAAb;AACD;;AAED9B,EAAAA,WAAW,CAACqB,sBAAZ,CAAmCc,SAAnC,CAA6CI,GAA7C,CAAiD,MAAjD;AACAvC,EAAAA,WAAW,CAACmC,SAAZ,CAAsBI,GAAtB,CAA0B,aAA1B;AACD,CA/BD,GAiCA;;AACAjC,WAAW,CAACyB,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC1C,MAAMgB,OAAO,GAAG/C,WAAW,CAACqC,YAAZ,CAAyB,KAAzB,CAAhB;;AAEA,MAAI,CAACU,OAAL,EAAc;AACZN,IAAAA,YAAY,CAAC5B,qBAAD,EAAwB,IAAxB,CAAZ;AACA;AACD;;AAED,yBAAOkC,OAAP,EAAgB,UAAhB;AACAN,EAAAA,YAAY,CAAC5B,qBAAD,EAAwB,KAAxB,CAAZ;AACD,CAVD;AAYAM,SAAS,CAACY,gBAAV,CAA2B,YAA3B,EAAyC,YAAM;AAC7CiB,EAAAA,kBAAkB;AAClB7B,EAAAA,SAAS,CAAC8B,SAAV,GAAsB,GAAtB;AACD,CAHD;AAKA9B,SAAS,CAACY,gBAAV,CAA2B,UAA3B,EAAuC,YAAM;AAC3CiB,EAAAA,kBAAkB;AAClB7B,EAAAA,SAAS,CAAC8B,SAAV,GAAsB,QAAtB;AACD,CAHD,GAKA;;AACA,SAASH,aAAT,CAAuBI,UAAvB,EAAmCC,KAAnC,EAA0CC,GAA1C,EAA+C;AAC7C,4BAAY,CACV;AAAEC,IAAAA,GAAG,EAAEH,UAAP;AAAmBvB,IAAAA,CAAC,EAAEyB,GAAG,CAACzB,CAA1B;AAA6BC,IAAAA,CAAC,EAAEwB,GAAG,CAACxB;AAApC,GADU,EAEV;AAAEyB,IAAAA,GAAG,EAAEF,KAAP;AAAcxB,IAAAA,CAAC,EAAE,CAAjB;AAAoBC,IAAAA,CAAC,EAAE;AAAvB,GAFU,CAAZ,EAGG0B,IAHH,CAGQ,UAACC,GAAD;AAAA,WAAUvD,WAAW,CAACqD,GAAZ,GAAkBE,GAA5B;AAAA,GAHR;AAID;;AAED,SAASV,mBAAT,CAA6BK,UAA7B,EAAyCC,KAAzC,EAAgD;AAC9CK,EAAAA,kBAAkB;AAClB,4BAAY,CACV;AAAEH,IAAAA,GAAG,EAAEH,UAAP;AAAmBvB,IAAAA,CAAC,EAAE,EAAtB;AAA0BC,IAAAA,CAAC,EAAE;AAA7B,GADU,EAEV;AAAEyB,IAAAA,GAAG,EAAEF,KAAP;AAAcxB,IAAAA,CAAC,EAAE,CAAjB;AAAoBC,IAAAA,CAAC,EAAE;AAAvB,GAFU,EAGV;AAAEyB,IAAAA,GAAG,EAAEpC,OAAO,CAACoB,YAAR,CAAqB,KAArB,CAAP;AAAoCV,IAAAA,CAAC,EAAE,EAAvC;AAA2CC,IAAAA,CAAC,EAAE;AAA9C,GAHU,CAAZ,EAIG0B,IAJH,CAIQ,UAACC,GAAD;AAAA,WAAUvD,WAAW,CAACqD,GAAZ,GAAkBE,GAA5B;AAAA,GAJR;AAKD;;AAED,SAASrB,kBAAT,CAA4BuB,YAA5B,EAA0C;AACxC,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnD,aAAa,CAACoD,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7CnD,IAAAA,aAAa,CAACmD,CAAD,CAAb,CAAiBvB,SAAjB,CAA2BS,MAA3B,CAAkCa,YAAlC;AACD;AACF;;AAED,SAAShB,YAAT,CAAsBmB,QAAtB,EAAgCC,IAAhC,EAAsC;AACpC,MAAIA,IAAI,KAAK,IAAb,EAAmB;AACjBD,IAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,OAAD,EAAa;AAC5BA,MAAAA,OAAO,CAAC5B,SAAR,CAAkBS,MAAlB,CAAyB,MAAzB;AACD,KAFD;AAGD,GAJD,MAIO;AACLgB,IAAAA,QAAQ,CAACE,OAAT,CAAiB,UAACC,OAAD,EAAa;AAC5BA,MAAAA,OAAO,CAAC5B,SAAR,CAAkBI,GAAlB,CAAsB,MAAtB;AACD,KAFD;AAGD;AACF;;AAED,SAASC,WAAT,CAAqBuB,OAArB,EAA8BhB,OAA9B,EAAuC;AACrCgB,EAAAA,OAAO,CAACd,SAAR,6CAAqDF,OAArD;AACD;;AAED,SAASS,kBAAT,GAA8B;AAC5BzC,EAAAA,UAAU,CAACiD,IAAX,GAAkB,4BAAlB;AACA,MAAMC,OAAO,GAAG,CAAhB;AACA,MAAMC,WAAW,GAAG,EAApB;AACA,MAAMC,UAAU,GAAG,EAAnB;;AACA,OAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIO,OAAO,GAAG,CAA/B,EAAkCP,CAAC,EAAnC,EAAuC;AACrC3C,IAAAA,UAAU,CAACqD,QAAX,CACElD,QAAQ,CAACmD,KAAT,CAAeC,KAAf,CAAqBJ,WAAW,GAAGR,CAAnC,EAAsCQ,WAAW,IAAIR,CAAC,GAAG,CAAR,CAAjD,CADF,EAEE,CAFF,EAGES,UAAU,IAAIT,CAAC,GAAG,CAAR,CAHZ;AAKD;;AAEDzC,EAAAA,OAAO,CAACoC,GAAR,GAActC,UAAU,CAACwD,MAAX,CAAkBC,SAAlB,EAAd;AACD;;AAED,SAASxB,kBAAT,GAA8B;AAC5B1B,EAAAA,SAAS,CAACa,SAAV,CAAoBsC,MAApB,CAA2B,MAA3B;AACArD,EAAAA,SAAS,CAACe,SAAV,CAAoBsC,MAApB,CAA2B,MAA3B;AACD","file":"script.75da7f30.js","sourceRoot":"..","sourcesContent":["// Defaults\nconst defaultOptions = {\n\tformat: 'image/png',\n\tquality: 0.92,\n\twidth: undefined,\n\theight: undefined,\n\tCanvas: undefined,\n\tcrossOrigin: undefined\n};\n\n// Return Promise\nconst mergeImages = (sources = [], options = {}) => new Promise(resolve => {\n\toptions = Object.assign({}, defaultOptions, options);\n\n\t// Setup browser/Node.js specific variables\n\tconst canvas = options.Canvas ? new options.Canvas() : window.document.createElement('canvas');\n\tconst Image = options.Image || window.Image;\n\n\t// Load sources\n\tconst images = sources.map(source => new Promise((resolve, reject) => {\n\t\t// Convert sources to objects\n\t\tif (source.constructor.name !== 'Object') {\n\t\t\tsource = { src: source };\n\t\t}\n\n\t\t// Resolve source and img when loaded\n\t\tconst img = new Image();\n\t\timg.crossOrigin = options.crossOrigin;\n\t\timg.onerror = () => reject(new Error('Couldn\\'t load image'));\n\t\timg.onload = () => resolve(Object.assign({}, source, { img }));\n\t\timg.src = source.src;\n\t}));\n\n\t// Get canvas context\n\tconst ctx = canvas.getContext('2d');\n\n\t// When sources have loaded\n\tresolve(Promise.all(images)\n\t\t.then(images => {\n\t\t\t// Set canvas dimensions\n\t\t\tconst getSize = dim => options[dim] || Math.max(...images.map(image => image.img[dim]));\n\t\t\tcanvas.width = getSize('width');\n\t\t\tcanvas.height = getSize('height');\n\n\t\t\t// Draw images to canvas\n\t\t\timages.forEach(image => {\n\t\t\t\tctx.globalAlpha = image.opacity ? image.opacity : 1;\n\t\t\t\treturn ctx.drawImage(image.img, image.x || 0, image.y || 0);\n\t\t\t});\n\n\t\t\tif (options.Canvas && options.format === 'image/jpeg') {\n\t\t\t\t// Resolve data URI for node-canvas jpeg async\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tcanvas.toDataURL(options.format, {\n\t\t\t\t\t\tquality: options.quality,\n\t\t\t\t\t\tprogressive: false\n\t\t\t\t\t}, (err, jpeg) => {\n\t\t\t\t\t\tif (err) {\n\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tresolve(jpeg);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Resolve all other data URIs sync\n\t\t\treturn canvas.toDataURL(options.format, options.quality);\n\t\t}));\n});\n\nexport default mergeImages;\n","/*\n* FileSaver.js\n* A saveAs() FileSaver implementation.\n*\n* By Eli Grey, http://eligrey.com\n*\n* License : https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md (MIT)\n* source  : http://purl.eligrey.com/github/FileSaver.js\n*/\n\n// The one and only way of getting global scope in all environments\n// https://stackoverflow.com/q/3277182/1008999\nvar _global = typeof window === 'object' && window.window === window\n  ? window : typeof self === 'object' && self.self === self\n  ? self : typeof global === 'object' && global.global === global\n  ? global\n  : this\n\nfunction bom (blob, opts) {\n  if (typeof opts === 'undefined') opts = { autoBom: false }\n  else if (typeof opts !== 'object') {\n    console.warn('Deprecated: Expected third argument to be a object')\n    opts = { autoBom: !opts }\n  }\n\n  // prepend BOM for UTF-8 XML and text/* types (including HTML)\n  // note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n  if (opts.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n    return new Blob([String.fromCharCode(0xFEFF), blob], { type: blob.type })\n  }\n  return blob\n}\n\nfunction download (url, name, opts) {\n  var xhr = new XMLHttpRequest()\n  xhr.open('GET', url)\n  xhr.responseType = 'blob'\n  xhr.onload = function () {\n    saveAs(xhr.response, name, opts)\n  }\n  xhr.onerror = function () {\n    console.error('could not download file')\n  }\n  xhr.send()\n}\n\nfunction corsEnabled (url) {\n  var xhr = new XMLHttpRequest()\n  // use sync to avoid popup blocker\n  xhr.open('HEAD', url, false)\n  try {\n    xhr.send()\n  } catch (e) {}\n  return xhr.status >= 200 && xhr.status <= 299\n}\n\n// `a.click()` doesn't work for all browsers (#465)\nfunction click (node) {\n  try {\n    node.dispatchEvent(new MouseEvent('click'))\n  } catch (e) {\n    var evt = document.createEvent('MouseEvents')\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 80,\n                          20, false, false, false, false, 0, null)\n    node.dispatchEvent(evt)\n  }\n}\n\n// Detect WebView inside a native macOS app by ruling out all browsers\n// We just need to check for 'Safari' because all other browsers (besides Firefox) include that too\n// https://www.whatismybrowser.com/guides/the-latest-user-agent/macos\nvar isMacOSWebView = _global.navigator && /Macintosh/.test(navigator.userAgent) && /AppleWebKit/.test(navigator.userAgent) && !/Safari/.test(navigator.userAgent)\n\nvar saveAs = _global.saveAs || (\n  // probably in some web worker\n  (typeof window !== 'object' || window !== _global)\n    ? function saveAs () { /* noop */ }\n\n  // Use download attribute first if possible (#193 Lumia mobile) unless this is a macOS WebView\n  : ('download' in HTMLAnchorElement.prototype && !isMacOSWebView)\n  ? function saveAs (blob, name, opts) {\n    var URL = _global.URL || _global.webkitURL\n    var a = document.createElement('a')\n    name = name || blob.name || 'download'\n\n    a.download = name\n    a.rel = 'noopener' // tabnabbing\n\n    // TODO: detect chrome extensions & packaged apps\n    // a.target = '_blank'\n\n    if (typeof blob === 'string') {\n      // Support regular links\n      a.href = blob\n      if (a.origin !== location.origin) {\n        corsEnabled(a.href)\n          ? download(blob, name, opts)\n          : click(a, a.target = '_blank')\n      } else {\n        click(a)\n      }\n    } else {\n      // Support blobs\n      a.href = URL.createObjectURL(blob)\n      setTimeout(function () { URL.revokeObjectURL(a.href) }, 4E4) // 40s\n      setTimeout(function () { click(a) }, 0)\n    }\n  }\n\n  // Use msSaveOrOpenBlob as a second approach\n  : 'msSaveOrOpenBlob' in navigator\n  ? function saveAs (blob, name, opts) {\n    name = name || blob.name || 'download'\n\n    if (typeof blob === 'string') {\n      if (corsEnabled(blob)) {\n        download(blob, name, opts)\n      } else {\n        var a = document.createElement('a')\n        a.href = blob\n        a.target = '_blank'\n        setTimeout(function () { click(a) })\n      }\n    } else {\n      navigator.msSaveOrOpenBlob(bom(blob, opts), name)\n    }\n  }\n\n  // Fallback to using FileReader and a popup\n  : function saveAs (blob, name, opts, popup) {\n    // Open a popup immediately do go around popup blocker\n    // Mostly only available on user interaction and the fileReader is async so...\n    popup = popup || open('', '_blank')\n    if (popup) {\n      popup.document.title =\n      popup.document.body.innerText = 'downloading...'\n    }\n\n    if (typeof blob === 'string') return download(blob, name, opts)\n\n    var force = blob.type === 'application/octet-stream'\n    var isSafari = /constructor/i.test(_global.HTMLElement) || _global.safari\n    var isChromeIOS = /CriOS\\/[\\d]+/.test(navigator.userAgent)\n\n    if ((isChromeIOS || (force && isSafari) || isMacOSWebView) && typeof FileReader !== 'undefined') {\n      // Safari doesn't allow downloading of blob URLs\n      var reader = new FileReader()\n      reader.onloadend = function () {\n        var url = reader.result\n        url = isChromeIOS ? url : url.replace(/^data:[^;]*;/, 'data:attachment/file;')\n        if (popup) popup.location.href = url\n        else location = url\n        popup = null // reverse-tabnabbing #460\n      }\n      reader.readAsDataURL(blob)\n    } else {\n      var URL = _global.URL || _global.webkitURL\n      var url = URL.createObjectURL(blob)\n      if (popup) popup.location = url\n      else location.href = url\n      popup = null // reverse-tabnabbing #460\n      setTimeout(function () { URL.revokeObjectURL(url) }, 4E4) // 40s\n    }\n  }\n)\n\n_global.saveAs = saveAs.saveAs = saveAs\n\nif (typeof module !== 'undefined') {\n  module.exports = saveAs;\n}\n","import mergeImages from \"merge-images\";\r\nimport { saveAs } from \"file-saver\";\r\n\r\nconst mergedImage = document.querySelector(\".merged-image\");\r\nconst mergeBtn = document.querySelector(\".merge-btn\");\r\nconst selectFrame = document.querySelector(\".select-frame\");\r\nconst selectExpression = document.querySelector(\".select-expression\");\r\nconst downloadBtn = document.querySelector(\".download-btn\");\r\nconst cardsNodeList = document.querySelectorAll(\".card\");\r\nconst selectedExpression = document.querySelector(\".selected-expression\");\r\nconst selectedFrame = document.querySelector(\".selected-frame\");\r\nconst alertExpressionNodeList = document.querySelectorAll(\".alert-expression\");\r\nconst alertFrameNodeList = document.querySelectorAll(\".alert-frame\");\r\nconst alertDownloadNodeList = document.querySelectorAll(\".alert-download\");\r\nconst textCustom = document.querySelector(\".text-custom\");\r\nconst textCanvas = document.querySelector(\".text-canvas\").getContext(\"2d\");\r\nconst textImg = document.querySelector(\".text-img\");\r\nconst textarea = document.querySelector(\"#textarea\");\r\nconst footerBtn = document.querySelector(\".footer-btn\");\r\nconst introHide = footerBtn.previousElementSibling;\r\nconst introShow = introHide.previousElementSibling;\r\n\r\nlet frameImgPath = \"\";\r\nlet expressionImgPath = \"\";\r\nlet imgFormat = \"\";\r\n\r\nconst polaroidPos = { x: 22, y: 22 };\r\nconst ocgGreenPos = { x: 98, y: 224 };\r\nconst ocgPurplePos = { x: 78, y: 180 };\r\n\r\n//Expression selection event\r\nselectExpression.addEventListener(\"click\", (event) => {\r\n  const target = event.target;\r\n  removeFocusedClass(\"expression-card-focused\");\r\n  if (target.classList.contains(\"img-15\")) {\r\n    expressionImgPath = target.getAttribute(\"src\");\r\n    target.closest(\".card\").classList.add(\"expression-card-focused\");\r\n    insertImage(selectedExpression, expressionImgPath);\r\n    triggerAlert(alertExpressionNodeList, false);\r\n  }\r\n});\r\n\r\n//Frame selection event\r\nselectFrame.addEventListener(\"click\", (event) => {\r\n  const target = event.target;\r\n  removeFocusedClass(\"frame-card-focused\");\r\n\r\n  if (target.classList.contains(\"img-15\")) {\r\n    imgFormat = target.dataset.format;\r\n    frameImgPath = target.getAttribute(\"src\");\r\n    target.closest(\".card\").classList.add(\"frame-card-focused\");\r\n    insertImage(selectedFrame, frameImgPath);\r\n\r\n    if (imgFormat === \"polaroid-custom\") {\r\n      textCustom.classList.remove(\"hide\");\r\n    } else {\r\n      textCustom.classList.add(\"hide\");\r\n    }\r\n\r\n    triggerAlert(alertFrameNodeList, false);\r\n  }\r\n});\r\n\r\n//Images merger event\r\nmergeBtn.addEventListener(\"click\", () => {\r\n  //Error detection\r\n  if (!expressionImgPath) {\r\n    triggerAlert(alertExpressionNodeList, true);\r\n    return;\r\n  }\r\n\r\n  if (!frameImgPath) {\r\n    triggerAlert(alertFrameNodeList, true);\r\n    return;\r\n  }\r\n\r\n  //Merge different kind of images\r\n  if (imgFormat === \"polaroid-custom\") {\r\n    mergePolaroidCustom(expressionImgPath, frameImgPath);\r\n  }\r\n\r\n  if (imgFormat === \"polaroid\") {\r\n    merge15Images(expressionImgPath, frameImgPath, polaroidPos);\r\n  }\r\n\r\n  if (imgFormat === \"ocg-green\") {\r\n    merge15Images(expressionImgPath, frameImgPath, ocgGreenPos);\r\n  }\r\n\r\n  if (imgFormat === \"ocg-purple\") {\r\n    merge15Images(expressionImgPath, frameImgPath, ocgPurplePos);\r\n  }\r\n\r\n  mergedImage.previousElementSibling.classList.add(\"hide\");\r\n  mergedImage.classList.add(\"image-style\");\r\n});\r\n\r\n//Download event\r\ndownloadBtn.addEventListener(\"click\", () => {\r\n  const imgPath = mergedImage.getAttribute(\"src\");\r\n\r\n  if (!imgPath) {\r\n    triggerAlert(alertDownloadNodeList, true);\r\n    return;\r\n  }\r\n\r\n  saveAs(imgPath, \"老婆貓貓.png\");\r\n  triggerAlert(alertDownloadNodeList, false);\r\n});\r\n\r\nfooterBtn.addEventListener(\"mouseenter\", () => {\r\n  toggleHidddenIntro();\r\n  footerBtn.innerHTML = \"危\";\r\n});\r\n\r\nfooterBtn.addEventListener(\"mouseout\", () => {\r\n  toggleHidddenIntro();\r\n  footerBtn.innerHTML = \"請勿接觸此鍵\";\r\n});\r\n\r\n//Function\r\nfunction merge15Images(expression, frame, pos) {\r\n  mergeImages([\r\n    { src: expression, x: pos.x, y: pos.y },\r\n    { src: frame, x: 0, y: 0 },\r\n  ]).then((b64) => (mergedImage.src = b64));\r\n}\r\n\r\nfunction mergePolaroidCustom(expression, frame) {\r\n  getCustomTextImage();\r\n  mergeImages([\r\n    { src: expression, x: 22, y: 22 },\r\n    { src: frame, x: 0, y: 0 },\r\n    { src: textImg.getAttribute(\"src\"), x: 30, y: 530 },\r\n  ]).then((b64) => (mergedImage.src = b64));\r\n}\r\n\r\nfunction removeFocusedClass(focusedClass) {\r\n  for (let i = 0; i < cardsNodeList.length; i++) {\r\n    cardsNodeList[i].classList.remove(focusedClass);\r\n  }\r\n}\r\n\r\nfunction triggerAlert(nodeList, hide) {\r\n  if (hide === true) {\r\n    nodeList.forEach((element) => {\r\n      element.classList.remove(\"hide\");\r\n    });\r\n  } else {\r\n    nodeList.forEach((element) => {\r\n      element.classList.add(\"hide\");\r\n    });\r\n  }\r\n}\r\n\r\nfunction insertImage(element, imgPath) {\r\n  element.innerHTML = `<img class=\"image-style\" src='${imgPath}' alt=\"圖片下載失敗QQ\"/>`;\r\n}\r\n\r\nfunction getCustomTextImage() {\r\n  textCanvas.font = \"bold 45px Noto Sans CJK TC\";\r\n  const MaxLine = 2;\r\n  const CharPerLine = 11;\r\n  const LineHeight = 55;\r\n  for (let i = 0; i <= MaxLine - 1; i++) {\r\n    textCanvas.fillText(\r\n      textarea.value.slice(CharPerLine * i, CharPerLine * (i + 1)),\r\n      0,\r\n      LineHeight * (i + 1)\r\n    );\r\n  }\r\n\r\n  textImg.src = textCanvas.canvas.toDataURL();\r\n}\r\n\r\nfunction toggleHidddenIntro() {\r\n  introShow.classList.toggle(\"hide\");\r\n  introHide.classList.toggle(\"hide\");\r\n}\r\n"]}